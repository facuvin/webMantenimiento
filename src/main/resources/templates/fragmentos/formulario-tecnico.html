<div xmlns:th="http://www.thymeleaf.org" th:fragment="formulario-tecnico(textoBoton)" th:with="deshabilitarClave = ${deshabilitarClave} ?: false, foco = ${foco} ?: 'nombreUsuario'">
    <form method="post" enctype="multipart/form-data" th:object="${tecnico}" class="form">
        <div>
            <label for="nombreUsuario">Nombre de usuario</label>
            <input type="text" th:field="*{nombreUsuario}" th:disabled="${deshabilitarClave}" />
            <p th:errors="*{nombreUsuario}" class="error"></p>
        </div>
        <div>
            <label for="password">Contraseña</label>
            <input type="hidden" name="contrasenaFalsa" th:value="${contrasenaFalsa}" />
            <input type="password" name="password" id="password" th:value="${contrasenaFalsa}" />
            <p th:errors="*{password}" class="error"></p>
        </div>
        <div>
            <label for="nombre">Nombre</label>
            <input type="text" th:field="*{nombre}" />
            <p th:errors="*{nombre}" class="error"></p>
        </div>
        <div>
            <label for="apellido">Apellido</label>
            <input type="text" th:field="*{apellido}" />
            <p th:errors="*{apellido}" class="error"></p>
        </div>
        <div>
            <label for="correoElectronico">Correo electrónico</label>
            <input type="email" th:field="*{eMail}" id="correoElectronico" />
            <p th:errors="*{eMail}" class="error"></p>
        </div>
        <div>
            <label for="telefono">Telefono</label>
            <input type="text" th:field="*{telefono}" />
            <p th:errors="*{telefono}" class="error"></p>
        </div>
        <div>
            <div>    
                <div>
                    <select th:field="*{competencias}" multiple="multiple" class="select-multiple">
                        <th:block th:each="c : ${competencias}">
                            <option th:value="${c.id}" th:text="${c.nombre}" selected></option>
                        </th:block>
                    </select>
                    <p th:errors="*{competencias}" class="error"></p>
                </div>
            </div>
        </div>
        <div>
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            <input type="submit" th:value="${textoBoton}" class="form-button" />
        </div>
        <div>
            <a th:href="@{/tecnicos}" title="Volver">Volver...</a>
        </div>
    </form>

    <script th:inline="javascript">

        document.getElementById(/*[[${foco}]]*/'nombreUsuario').focus();
        document.getElementById(/*[[${foco}]]*/'nombreUsuario').select();
    </script>
</div>